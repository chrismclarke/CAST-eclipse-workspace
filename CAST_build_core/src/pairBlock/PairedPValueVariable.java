package pairBlock;import dataView.*;import distn.*;public class PairedPValueVariable extends NumSummaryVariable {	private NumVariable diffVar;	private CatVariable selectionVar;	private int decimals;		public PairedPValueVariable(String theName, DataSet data, String diffKey,																												String selectionKey, int decimals) {		super(theName);		diffVar = (NumVariable)data.getVariable(diffKey);		selectionVar = (CatVariable)data.getVariable(selectionKey);		this.decimals = decimals;	}		protected NumValue evaluateSummary(DataSet sourceData) {		int n = 0;		double sy = 0.0;		double syy = 0.0;				ValueEnumeration ye = diffVar.values();		ValueEnumeration ge = selectionVar.values();		while (ye.hasMoreValues() && ge.hasMoreValues()) {			double y = ye.nextDouble();			if (selectionVar.labelIndex(ge.nextValue()) == 0) {				n ++;				sy += y;				syy += y * y;			}		}				double mean = sy / n;				double var = (syy - sy * mean) / (n - 1);				double se = Math.sqrt(var / n);		double absT = Math.abs(mean / se);				int df = n - 1;		double pValue = 2.0 * TTable.cumulative(-absT, df);				return new NumValue(pValue, decimals);	}}