package cat;import dataView.*;public class ShiftedVariable extends NumFunctionVariable {		private XApplet applet;		private NumVariable baseVariable;	@SuppressWarnings("unused")	private String baseKey;	private int displayDecimals;	private double factor;	private boolean showPercentage = false;		public ShiftedVariable(String theName, NumVariable baseVariable, String baseKey, XApplet applet) {		super(theName);		this.baseVariable = baseVariable;		this.baseKey = baseKey;		this.applet = applet;		setHiddenDigits(0);	}		public void setHiddenDigits(int hiddenDigits) {		displayDecimals = baseVariable.getMaxDecimals() - hiddenDigits;		factor = 1.0;		while (displayDecimals < 0) {			factor /= 1000;			displayDecimals += 3;		}	}		public void setShowPercentage(boolean showPercentage) {		this.showPercentage = showPercentage;	}		public double getFactor() {		return factor;	}	//	public void setDisplayDecimals(int decimals, boolean percentage) {//		displayDecimals = percentage ? decimals - 2 : decimals;//		factor = percentage ? 100.0 : 1.0;//	}		public int getMaxDecimals() {		return displayDecimals;	}		public int noOfValues() {		return baseVariable.noOfValues();	}		public Value valueAt(int index) {		NumValue baseVal = (NumValue)baseVariable.valueAt(index);		double localFactor = factor;		int localDecimals = displayDecimals;		if (showPercentage) {			localFactor *= 100.0;			localDecimals -= 2;		}				NumImageValue result = new NumImageValue(baseVal.toDouble() * localFactor, localDecimals, applet);		return result;	}}