package models;import dataView.*;public class RegnAdjustedSsqVariable extends AdjustedSsqVariable {	private double b0, b1;		public RegnAdjustedSsqVariable(String theName, DataSet data, String xKey, String yKey,																							int displayDecimals) {		super(theName, data, xKey, yKey, displayDecimals);	}		protected boolean initialiseXY() {		if (super.initialiseXY()) {			NumVariable xVariable = (NumVariable)data.getVariable(xKey);			NumVariable yVariable = (NumVariable)data.getVariable(yKey);			ValueEnumeration xEnum = xVariable.values();			ValueEnumeration yEnum = yVariable.values();			int n = 0;			double sx = 0.0;			double sy = 0.0;			double sxx = 0.0;			double sxy = 0.0;			double syy = 0.0;			while (xEnum.hasMoreValues() && yEnum.hasMoreValues()) {				double xVal = xEnum.nextDouble();				double yVal = yEnum.nextDouble();				sx += xVal;				sy += yVal;				sxx += xVal*xVal;				sxy += xVal*yVal;				syy += yVal*yVal;				n ++;			}			double xMean = sx / n;			yMean = sy / n;						sxx -= sx * xMean;			sxy -= sy * xMean;			syy -= sy * yMean;						b1 = sxy / sxx;			b0 = yMean - b1 * xMean;						sourceExplSsq = b1 * b1 * sxx;			sourceResidSsq = syy - sourceExplSsq;			return true;		}		else			return false;	}		protected double getFittedValue(Variable xVar, Value x) {		return b0 + b1 * ((NumValue)x).toDouble();	}}