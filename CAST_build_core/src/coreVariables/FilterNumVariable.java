package coreVariables;import dataView.*;public class FilterNumVariable extends NumFunctionVariable {	private NumVariable sourceVar;	private CatVariable filterVar;	private String sourceKey, filterKey;		private int filterIndex = 0;		public FilterNumVariable(String theName, DataSet data, String sourceKey, String filterKey) {		super(theName);		this.sourceKey = sourceKey;		this.filterKey = filterKey;		filterVar = (CatVariable)data.getVariable(filterKey);		sourceVar = (NumVariable)data.getVariable(sourceKey);	}		public void setFilterIndex(int filterIndex) {		this.filterIndex = filterIndex;	}		public int getMaxDecimals() {		return sourceVar.getMaxDecimals();	}		public int noOfValues() {		return Math.min(sourceVar.noOfValues(), filterVar.noOfValues());	}		public Value valueAt(int index) {		int catIndex = filterVar.getItemCategory(index);		if (catIndex == filterIndex)			return sourceVar.valueAt(index);		else			return NumValue.NAN_VALUE;	}		public boolean noteVariableChange(String key) {		return sourceKey.equals(key) || filterKey.equals(key);	}}