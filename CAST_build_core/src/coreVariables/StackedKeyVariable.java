package coreVariables;import dataView.*;public class StackedKeyVariable extends CatFunctionVariable {	private int sourceCount[];		public StackedKeyVariable(String theName, DataSet data, String[] sourceKey) {		super(theName);		setSourceVar(data, sourceKey);	}		public void setSourceVar(DataSet data, String[] sourceKey) {		sourceCount = new int[sourceKey.length];		LabelValue sourceLabel[] = new LabelValue[sourceKey.length];		for (int i=0 ; i<sourceKey.length ; i++) {			Variable sourceVar = (Variable)data.getVariable(sourceKey[i]);			sourceLabel[i] = new LabelValue(sourceVar.name);			sourceCount[i] = sourceVar.noOfValues();		}		setLabels(sourceLabel);	}		public int noOfValues() {		int n = 0;		for (int i=0 ; i<sourceCount.length ; i++)			n += sourceCount[i];		return n;	}		public Value valueAt(int index) {		for (int i=0 ; i<sourceCount.length ; i++) {			if (index < sourceCount[i])				return getLabel(i);			else				index -= sourceCount[i];		}		return null;	}}