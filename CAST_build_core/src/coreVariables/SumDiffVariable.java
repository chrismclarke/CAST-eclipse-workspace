package coreVariables;import dataView.*;public class SumDiffVariable extends NumFunctionVariable {	static final public int SUM = 0;	static final public int DIFF = 1;		private String var1Key, var2Key;	private NumVariable var1, var2;	private int maxDecimals;	private int sumOrDiff;		public SumDiffVariable(String theName, DataSet data, String var1Key, String var2Key, int sumOrDiff) {		super(theName);		this.var1Key = var1Key;		var1 = (NumVariable)data.getVariable(var1Key);				this.var2Key = var2Key;		var2 = (NumVariable)data.getVariable(var2Key);				this.sumOrDiff = sumOrDiff;		maxDecimals = Math.max(var1.getMaxDecimals(), var2.getMaxDecimals());	}		public int getMaxDecimals() {		return maxDecimals;	}		public int noOfValues() {		return Math.min(var1.noOfValues(), var2.noOfValues());	}		public Value valueAt(int index) {		double value = var1.doubleValueAt(index);		if (sumOrDiff == SUM)			value += var2.doubleValueAt(index);		else			value -= var2.doubleValueAt(index);		return new NumValue(value, maxDecimals);	}		public boolean noteVariableChange(String key) {		boolean changed = var1Key.equals(key) || var2Key.equals(key);		if (changed)			maxDecimals = Math.max(var1.getMaxDecimals(), var2.getMaxDecimals());		return changed;	}}