package exerciseGroups;import dataView.*;public class BaseCorrelatedVariable extends NumFunctionVariable {	private String z1Key, z2Key;	private NumVariable z1, z2;	private double mean = 0, sd = 1, corr = 0;	private int maxDecimals = 0;		public BaseCorrelatedVariable(String theName, DataSet data, String z1Key, String z2Key) {		super(theName);				//	correlation "corr" with a similarly defined variable also based on z2		this.z1Key = z1Key;		z1 = (NumVariable)data.getVariable(z1Key);				this.z2Key = z2Key;		z2 = (NumVariable)data.getVariable(z2Key);	}		public void setScaling(double mean, double sd, double corr, int maxDecimals) {		this.mean = mean;		this.sd = sd;		this.corr = corr;		this.maxDecimals = maxDecimals;	}		public int getMaxDecimals() {		return maxDecimals;	}		public int noOfValues() {		return Math.min(z1.noOfValues(), z2.noOfValues());	}		public Value valueAt(int index) {		double z1Value = z1.doubleValueAt(index);		double z2Value = z2.doubleValueAt(index);		double z = Math.sqrt(1 - corr) * z1Value + Math.sqrt(corr) * z2Value;		return new NumValue(mean + sd * z, maxDecimals);	}		public boolean noteVariableChange(String key) {		return z1Key.equals(key) || z2Key.equals(key);	}}