package time;import dataView.*;class AR1Enumeration implements ValueEnumeration {	private ValueEnumeration e;	private double b0, b1;	private double previousRaw;	private double previousResult;	private boolean initialised = false;		public AR1Enumeration(ValueEnumeration e, double b0, double b1) {		this.e = e;		this.b0 = b0;		this.b1 = b1;	}		public boolean hasMoreValues() {		return e.hasMoreValues();	}		public double nextDouble() {		double next = e.nextDouble();		double result = Double.NaN;				if (initialised)			result = b0 + b1 * (Double.isNaN(previousRaw) ? previousResult : previousRaw);		else			initialised = true;					previousRaw = next;		previousResult = result;		return result;	}		public Value nextValue() {		return new NumValue(nextDouble());	}		public RepeatValue nextGroup() {		return new RepeatValue(nextValue(), 1);	}}